
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="pyratings - Working with credit ratings, professionally and efficiently">
      
      
        <meta name="author" content="HSBC">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>pyratings</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pyratings-working-with-credit-ratings-professionally-and-efficiently" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="pyratings" class="md-header__button md-logo" aria-label="pyratings" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            pyratings
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hsbc/pyratings" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="pyratings" class="md-nav__button md-logo" aria-label="pyratings" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    pyratings
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hsbc/pyratings" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        Overview
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-it-all-about" class="md-nav__link">
    What is it all about?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    Table of contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-has-pyratings-to-offer-and-how-might-it-help-you" class="md-nav__link">
    What has pyratings to offer and how might it help you?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-install-pyratings" class="md-nav__link">
    How to install pyratings?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started-with-pyratings" class="md-nav__link">
    Getting started with pyratings
  </a>
  
    <nav class="md-nav" aria-label="Getting started with pyratings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cleaning-ratings" class="md-nav__link">
    Cleaning ratings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consolidating-ratings" class="md-nav__link">
    Consolidating ratings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translating-ratings" class="md-nav__link">
    Translating ratings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#support" class="md-nav__link">
    Support
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    Contributing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acknowledgements" class="md-nav__link">
    Acknowledgements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="long_term_ratings/" class="md-nav__link">
        Long-term ratings
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="short_term_ratings/" class="md-nav__link">
        Short-term ratings
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          User guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="User guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          User guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="user_guide/cleansing/" class="md-nav__link">
        Data cleansing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="user_guide/consolidate/" class="md-nav__link">
        Consolidate ratings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="user_guide/translation/" class="md-nav__link">
        Translating ratings
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Use cases
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Use cases" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Use cases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="case_studies/prepare_rtg/" class="md-nav__link">
        Prepare your ratings data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="case_studies/avg_port_lt_rtg/" class="md-nav__link">
        Compute portfolio average long-term rating
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="case_studies/avg_port_st_rtg/" class="md-nav__link">
        Compute portfolio average short-term rating
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="case_studies/port_warf/" class="md-nav__link">
        Compute portfolio WARF
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="api_reference/" class="md-nav__link">
        API Reference
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="code_of_conduct/" class="md-nav__link">
        Code of conduct
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="license/" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-it-all-about" class="md-nav__link">
    What is it all about?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    Table of contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-has-pyratings-to-offer-and-how-might-it-help-you" class="md-nav__link">
    What has pyratings to offer and how might it help you?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-install-pyratings" class="md-nav__link">
    How to install pyratings?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started-with-pyratings" class="md-nav__link">
    Getting started with pyratings
  </a>
  
    <nav class="md-nav" aria-label="Getting started with pyratings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cleaning-ratings" class="md-nav__link">
    Cleaning ratings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consolidating-ratings" class="md-nav__link">
    Consolidating ratings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translating-ratings" class="md-nav__link">
    Translating ratings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#support" class="md-nav__link">
    Support
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    Contributing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acknowledgements" class="md-nav__link">
    Acknowledgements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/hsbc/pyratings/edit/main/docs/index.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="pyratings-working-with-credit-ratings-professionally-and-efficiently">pyratings — Working with credit ratings, professionally and efficiently</h1>
<p><img alt="img" src="https://img.shields.io/pypi/v/pyratings" /> <img alt="img" src="https://img.shields.io/pypi/pyversions/pyratings" /> <img alt="img" src="https://img.shields.io/github/license/hsbc/pyratings" /> <img alt="img" src="https://img.shields.io/github/issues/hsbc/pyratings" /> <img alt="img" src="https://img.shields.io/github/stars/hsbc/pyratings" /> <img alt="img" src="https://img.shields.io/badge/code%20style-black-black" /></p>
<p><strong>Documentation</strong>: <a href="https://hsbc.github.io/pyratings/">https://hsbc.github.io/pyratings/</a></p>
<p><strong>Source Code</strong>: <a href="https://github.com/hsbc/pyratings/">https://github.com/hsbc/pyratings/</a></p>
<hr />
<h2 id="what-is-it-all-about">What is it all about?</h2>
<p>Do you work in the investment industry?
Do you work with fixed income instruments, such as bonds and credit securities?
Then you are probably concerned with credit ratings, too?</p>
<p>This Python library will be useful for portfolio managers, credit analysts, as well 
as anybody who is working with credit ratings.
It provides functions, which will be helpful in order to work with ratings in 
a professional and efficient way.</p>
<h2 id="table-of-contents">Table of contents</h2>
<ul>
<li><a href="#what-has-pyratings-to-offer-and-how-might-it-help-you">What has <em>pyratings</em> to offer and how might it help you?</a></li>
<li><a href="#how-to-install-pyratings">How to install <em>pyratings</em>?</a></li>
<li><a href="#getting-started-with-pyratings">Getting started with <em>pyratings</em></a><ul>
<li><a href="#cleaning-ratings">Cleaning ratings</a></li>
<li><a href="#consolidating-ratings">Consolidating ratings</a></li>
<li><a href="#translating-ratings">Translating ratings</a></li>
</ul>
</li>
<li><a href="#support">Support</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#acknowledgements">Acknowlegdements</a></li>
<li><a href="#license">License</a></li>
</ul>
<h2 id="what-has-pyratings-to-offer-and-how-might-it-help-you">What has <em>pyratings</em> to offer and how might it help you?</h2>
<p>Do you need to compute the average credit rating of an investment portfolio?
Do you need to compute the worst rating for individual securities', given these 
securities have ratings attached from more than one rating agency?
Do you need to compute the Weighted Average Rating Factor (WARF)?</p>
<p>If yes, you might want to take a look at <strong>pyratings</strong> and its offerings in the credit 
ratings space.</p>
<p><strong>pyratings</strong> offers the following capabilities:</p>
<ul>
<li>Cleaning ratings for further processing, e.g. stripping off of rating watches.</li>
<li>Transform long- and short-term ratings into rating scores and vice versa.</li>
<li>Compute the best/second best/worst ratings on a security level basis within a
  portfolio context.</li>
<li>Compute average ratings/rating scores on a portfolio level.</li>
<li>Compute Weighted Average Rating Factor (WARF) on a portfolio level.</li>
<li>Compute WARF buffer, i.e. distance from current WARF to the next maxWARF.</li>
</ul>
<p><strong>pyratings</strong> supports 
<a href="https://hsbc.github.io/pyratings/long_term_ratings">long-term ratings</a> as well as 
<a href="https://hsbc.github.io/pyratings/short_term_ratings">short-term ratings</a>.
Currently, the following rating agencies will be supported:</p>
<ul>
<li>Moody's (long-term / short-term)</li>
<li>Standard &amp; Poors (long-term / short-term)</li>
<li>Fitch (long-term / short-term)</li>
<li>DBRS Morningstar (long-term / short-term)</li>
<li>Bloomberg (long-term)</li>
</ul>
<h2 id="how-to-install-pyratings">How to install <em>pyratings</em>?</h2>
<p><strong>pyratings</strong> is listed on <a href="https://pypi.org/project/pyratings/">pypi</a>.
Make sure to have Python 3.9+ installed on your machine.</p>
<p>Using <a href="https://pip.pypa.io/en/stable/">pip</a>:</p>
<pre><code class="language-bash">pip install pyratings
</code></pre>
<p>Using <a href="https://pdm.fming.dev/">pdm</a>:</p>
<pre><code class="language-bash">pdm add pyratings
</code></pre>
<p>Using <a href="https://python-poetry.org/">poetry</a>:</p>
<pre><code class="language-bash">poetry add pyratings
</code></pre>
<h2 id="getting-started-with-pyratings">Getting started with <em>pyratings</em></h2>
<p>Here are some very basic code snippets to get you up and running.</p>
<h3 id="cleaning-ratings">Cleaning ratings</h3>
<p>Sometimes, a rating has a credit watch or an outlook attached to it.
In order to work with this rating, it is usually necessary to get rid of it.</p>
<pre><code class="language-bash">&gt;&gt;&gt; import pyratings as rtg

&gt;&gt;&gt; rtg.get_pure_ratings(&quot;AA- *+&quot;)
&quot;AA-&quot;
</code></pre>
<p>Cleaning a pandas datraframe, which comprises several securities with ratings from S&amp;P 
and Fitch:</p>
<pre><code class="language-bash">&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; import pandas as pd

&gt;&gt;&gt; import pyratings as rtg


&gt;&gt;&gt; rtg_df = pd.DataFrame(
...    data={
...        &quot;rtg_SP&quot;: [
...            &quot;BB+ *-&quot;,
...            &quot;BBB *+&quot;,
...            np.nan,
...            &quot;AA- (Developing)&quot;,
...            np.nan,
...            &quot;CCC+ (CwPositive)&quot;,
...            &quot;BB+u&quot;,
...        ],
...        &quot;rtg_Fitch&quot;: [
...            &quot;BB+ *-&quot;,
...            &quot;BBB *+&quot;,
...            np.nan,
...            &quot;AA- (Developing)&quot;,
...            np.nan,
...            &quot;CCC+ (CwPositive)&quot;,
...            &quot;BB+u&quot;,
...        ],
...    },
... )

&gt;&gt;&gt; rtg_df
              rtg_SP          rtg_Fitch
0             BB+ *-             BB+ *-
1             BBB *+             BBB *+
2                NaN                NaN
3   AA- (Developing)   AA- (Developing)
4                NaN                NaN
5  CCC+ (CwPositive)  CCC+ (CwPositive)
6               BB+u               BB+u

# Get rid of all the noise.

&gt;&gt;&gt; rtg.get_pure_ratings(rtg_df)
  rtg_SP_clean rtg_Fitch_clean
0          BB+             BB+
1          BBB             BBB
2          NaN             NaN
3          AA-             AA-
4          NaN             NaN
5         CCC+            CCC+
6          BB+             BB+
</code></pre>
<h3 id="consolidating-ratings">Consolidating ratings</h3>
<p>It is quite common that an individual credit security has been rated by several 
credit agencies.
In this case, you may want to compute the best or worst rating. </p>
<pre><code class="language-bash">&gt;&gt;&gt; import pandas as pd

&gt;&gt;&gt; import pyratings as rtg

&gt;&gt;&gt; ratings_df = pd.DataFrame(
...     data=(
...         {
...             &quot;rating_S&amp;P&quot;: ['AAA', 'AA-', 'AA+', 'BB-', 'C'],
...             &quot;rating_Moody&quot;: ['Aa1', 'Aa3', 'Aa2', 'Ba3', 'Ca'],
...             &quot;rating_Fitch&quot;: ['AA-', 'AA-', 'AA-', 'B+', 'C'],
...         }
...     )
... )

&gt;&gt;&gt;  ratings_df
  rating_S&amp;P rating_Moody rating_Fitch
0        AAA          Aa1          AA-
1        AA-          Aa3          AA-
2        AA+          Aa2          AA-
3        BB-          Ba3           B+
4          C           Ca            C

# Return a pd.Series with the worst ratings.

&gt;&gt;&gt; rtg.get_worst_ratings(
...   ratings_df, rating_provider_input=[&quot;S&amp;P&quot;, &quot;Moody&quot;, &quot;Fitch&quot;]
... )
0    AA-
1    AA-
2    AA-
3     B+
4      C
Name: worst_rtg, dtype: object
</code></pre>
<h3 id="translating-ratings">Translating ratings</h3>
<p>To work with ratings, it's sometimes necessary to translate human-readable ratings 
into numerical rating scores and vice versa.
<strong>pyratings</strong> offers a number of functions on that front.</p>
<p>The <a href="https://hsbc.github.io/pyratings/user_guide/translation">documentation</a> shows 
in detail how <strong>pyratings</strong> translates human-readable ratings into numerical rating 
scores.<br>
Here's an example how to translate a pandas series from ratings to scores and vice 
versa. </p>
<pre><code class="language-bash">&gt;&gt;&gt; import pandas as pd

&gt;&gt;&gt; import pyratings as rtg


&gt;&gt;&gt; ratings_series = pd.Series(
...     data=[&quot;Baa1&quot;, &quot;C&quot;, &quot;NR&quot;, &quot;WD&quot;, &quot;D&quot;, &quot;B1&quot;, &quot;SD&quot;], name='Moody'
... )
&gt;&gt;&gt; scores_series = rtg.get_scores_from_ratings(
...     ratings=ratings_series, rating_provider=&quot;Moody's&quot;, tenor=&quot;long-term&quot;
... )
&gt;&gt;&gt; scores_series
0     8.0
1    21.0
2     NaN
3     NaN
4    22.0
5    14.0
6    22.0
Name: rtg_score_Moody, dtype: float64

# Translate these rating scores back, but this time use DBRS' rating scale

&gt;&gt;&gt; rtg.get_ratings_from_scores(
...     rating_scores=scores_series, rating_provider=&quot;DBRS&quot;, tenor=&quot;long-term&quot;
... )
0    BBBH
1       C
2     NaN
3     NaN
4       D
5      BH
6       D
Name: rtg_DBRS, dtype: object
</code></pre>
<h2 id="support">Support</h2>
<p>If you need help or have any questions, the first step should be to take a look at the 
<a href="https://hsbc.github.io/pyratings/">docs</a>.
If you can't find an answer, please open an issue on 
<a href="https://github.com/hsbc/pyratings//issues/new">GitHub</a>, or send an email to 
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#111;&#112;&#101;&#110;&#115;&#111;&#117;&#114;&#99;&#101;&#64;&#104;&#115;&#98;&#99;&#46;&#100;&#101;">&#111;&#112;&#101;&#110;&#115;&#111;&#117;&#114;&#99;&#101;&#64;&#104;&#115;&#98;&#99;&#46;&#100;&#101;</a>.
The subject line should contain '#pyratings'</p>
<h2 id="contributing">Contributing</h2>
<p>We very much welcome contributions!
Before you begin, please read our 
<a href="https://hsbc.github.io/pyratings/contributing/">contributing guideliens</a>.</p>
<h2 id="acknowledgements">Acknowledgements</h2>
<p>Thanks to</p>
<ul>
<li><a href="https://github.com/a-vester">Andreas Vester</a>, project creator and lead developer</li>
<li><a href="https://github.com/deepakparashar1987">Deepak Parashar</a>, for their help with 
  testing the code and working on all kinds of PRs.</li>
<li><a href="https://github.com/sander2825">Sander Cohen</a>, for their help to improve the 
  documentation as well as the intense discussion on how to best implement 
  short-term ratings into the project.</li>
<li><a href="https://github.com/MarcoGER">Marco Erling</a>, for actively participating in 
  discussions on how to best incorporate short-term ratings.</li>
<li><a href="https://github.com/tsteenbe">Thomas Steenbergen</a>, for their
  <a href="https://github.com/hsbc/pyratings/pull/1">code contribution</a> regarding the 
  improvement of metadata in setup.py.</li>
<li><a href="https://github.com/MEFolson">Ekow Folson</a>, for their help of setting up this 
  repository and make it possible to become the very first open source contribution 
  from <a href="https://github.com/hsbc">HSBC</a>.</li>
</ul>
<h2 id="license">License</h2>
<p>This project is licensed under the Apache 2.0 License – please see the
<a href="https://hsbc.github.io/pyratings/license">LICENSE</a> file.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
      
        
        <a href="long_term_ratings/" class="md-footer__link md-footer__link--next" aria-label="Next: Long-term ratings" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Long-term ratings
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>